appId: com.clawdbot.desktop
productName: Clawdbot
copyright: Copyright Â© 2024 Clawdbot

npmRebuild: false
buildDependenciesFromSource: false

directories:
  output: release
  buildResources: resources

# Bundle CLI into app resources
extraResources:
  - from: "../../dist"
    to: "cli/dist"
    filter:
      - "**/*"
  - from: "../../openclaw.mjs"
    to: "cli/openclaw.mjs"
  - from: "../../package.json"
    to: "cli/package.json"
  - from: "../../node_modules"
    to: "cli/node_modules"
    filter:
      - "**/*"
      - "!.cache"
      - "!.git"

files:
  - dist/**/*
  - node_modules/electron-log/**/*
  - node_modules/electron-store/**/*
  - node_modules/json5/**/*
  - node_modules/fs-extra/**/*
  - node_modules/graceful-fs/**/*
  - node_modules/jsonfile/**/*
  - node_modules/universalify/**/*
  - node_modules/conf/**/*
  - node_modules/atomically/**/*
  - node_modules/dot-prop/**/*
  - node_modules/env-paths/**/*
  - node_modules/pkg-up/**/*
  - node_modules/find-up/**/*
  - node_modules/locate-path/**/*
  - node_modules/p-locate/**/*
  - node_modules/p-limit/**/*
  - node_modules/yocto-queue/**/*
  - node_modules/path-exists/**/*
  - node_modules/semver/**/*
  - node_modules/ajv/**/*
  - node_modules/ajv-formats/**/*
  - node_modules/fast-deep-equal/**/*
  - node_modules/json-schema-traverse/**/*
  - node_modules/require-from-string/**/*
  - node_modules/uri-js/**/*
  - node_modules/punycode/**/*
  - node_modules/tar/**/*
  - node_modules/chownr/**/*
  - node_modules/fs-minipass/**/*
  - node_modules/minipass/**/*
  - node_modules/minizlib/**/*
  - node_modules/mkdirp/**/*
  - node_modules/yallist/**/*

win:
  target:
    - target: nsis
      arch: [x64]
  artifactName: "${productName}-Setup-${version}.${ext}"

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: Clawdbot
